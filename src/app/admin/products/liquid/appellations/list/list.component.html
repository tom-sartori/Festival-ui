<mat-card class="m-2 p-0">

	<div fxLayout="row wrap" fxLayoutAlign="space-between center" class="w-100 p-2">
		<div></div>
		<button mat-raised-button color="primary" (click)="openVarietyDialog(null)">
			<mat-icon>add</mat-icon>
			{{ 'PRODUCT.VARIETY.ADD' | translate }}
		</button>
	</div>
	<mat-divider></mat-divider>

	<div class="table-wrapper">
		<mat-table [dataSource]="dataSource" matSort class="w-100">

			<!-- Name Column -->
			<ng-container matColumnDef="name">
				<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "FIELD.LABEL.NAME" | translate }}</mat-header-cell>
				<mat-cell *matCellDef="let appellation"> {{ appellation.name }}</mat-cell>
			</ng-container>

			<!-- Description Column -->
			<ng-container matColumnDef="description">
				<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "FIELD.LABEL.DESCRIPTION" | translate }}</mat-header-cell>
				<mat-cell *matCellDef="let appellation"> {{ appellation.description }}</mat-cell>
			</ng-container>

			<!-- Region Column -->
			<ng-container matColumnDef="region">
				<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "FIELD.LABEL.REGION" | translate }}</mat-header-cell>
				<mat-cell *matCellDef="let appellation"> {{ appellation.region }}</mat-cell>
			</ng-container>

			<!-- Country Column -->
			<ng-container matColumnDef="country">
				<mat-header-cell *matHeaderCellDef mat-sort-header>{{ "FIELD.LABEL.COUNTRY" | translate }}</mat-header-cell>
				<mat-cell *matCellDef="let appellation"> {{ appellation.country }}</mat-cell>
			</ng-container>

			<!-- Actions Column -->
			<ng-container matColumnDef="action">
				<mat-header-cell *matHeaderCellDef>{{ "FIELD.LABEL.ACTION" | translate }}</mat-header-cell>
				<mat-cell *matCellDef="let appellation">

					<!-- Button used to update with the dialog component. -->
					<button mat-icon-button color="primary" (click)="openVarietyDialog(appellation)" matTooltip="Edit">
						<mat-icon>edit</mat-icon>
					</button>

					<button mat-icon-button color="warn" (click)="delete(appellation.id)" matTooltip='{{ "BTN.REMOVE" | translate }}'>
						<mat-icon>delete</mat-icon>
					</button>
				</mat-cell>
			</ng-container>

			<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
				<mat-row *matRowDef="let appellation; columns: displayedColumns;"></mat-row>
		</mat-table>
		<p *ngIf="appService.Data.appellations && appService.Data.appellations.length === 0" class="py-5 mb-0 text-center">{{ "PRODUCT.APPELLATION.NO_DATA" | translate }}</p>
	</div>
	<mat-paginator [pageSizeOptions]="[5, 10, 25, 50]"></mat-paginator>
</mat-card>
